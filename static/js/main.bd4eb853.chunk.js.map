{"version":3,"sources":["serviceWorker.js","Voeux.js","index.js","config.js"],"names":["Boolean","window","location","hostname","match","App","c","state","loading_sheet","error_sheet","data_sheet","selectedSentences","fetchSheet","bind","fetchCredentials","wiggle","handleGeneration","getParagraph","getRandomSentence","renderSentence","getParams","generateShareLink","this","props","spreadsheet","setState","api_url","tracking","format","article","api","fetch","method","reach","json","response","_credentials","lblb_tracking","lblb_posting","LBLB_GLOBAL","console","error","Error","sheet","ok","text","data","parsedData","parseTsv","sentences","filter","e","themes","sentence","map","i","id","status","step","limit","delay","action","callback","setTimeout","paragraphs","document","querySelectorAll","forEach","p","style","marginLeft","Math","random","transform","forceUpdate","size","length","selection","theme","includes","alea","floor","push","paragraph","log","className","key","href","url","target","rel","JSXInterpreter","content","president","date","substring","replace","res","URL","searchParams","get","atob","decodeURI","split","parseInt","toString","join","meta","encodeURI","btoa","classes","Loader","LoadingError","BlockTitle","onClick","Paragraph","src","small","slice","index","display","flexDirection","alignItems","ShareArticle","short","iconsOnly","tweet","ArticleMeta","publishedOn","updatedOn","authors","name","role","link","Component","AppWrapper","getElementsHeight","rem","breakpoints","lg","min","max","Infinity","md","sm","Object","defineProperty","keys","find","client_width","setInterval","clearInterval","xiti_id","headerScript","createElement","chartbeat","googleAnalytics","xiti","xtCore","setAttribute","innerHTML","config","show_header","body","appendChild","$nav","querySelector","$body","pNavHeight","nav_height","pBodyPaddingTop","body_padding_top","pClientWidth","pClientHeight","client_height","navHeight","offsetHeight","bodyPaddingTop","parseFloat","getComputedStyle","clientWidth","documentElement","clientHeight","dispatchEvent","CustomEvent","statics_url","stylesheet","title","description","author","image","Helmet","property","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","konami","active","module","exports"],"mappings":"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","file":"static/js/main.bd4eb853.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport Loader from 'libe-components/lib/blocks/Loader'\nimport LoadingError from 'libe-components/lib/blocks/LoadingError'\nimport ShareArticle from 'libe-components/lib/blocks/ShareArticle'\nimport ArticleMeta from 'libe-components/lib/blocks/ArticleMeta'\nimport BlockTitle from 'libe-components/lib/text-levels/BlockTitle'\nimport Paragraph from 'libe-components/lib/text-levels/Paragraph'\nimport JSXInterpreter from 'libe-components/lib/logic/JSXInterpreter'\nimport parseTsv from 'libe-utils/parse-tsv'\n\nexport default class App extends Component {\n  /* * * * * * * * * * * * * * * * *\n   *\n   * CONSTRUCTOR\n   *\n   * * * * * * * * * * * * * * * * */\n  constructor () {\n    super()\n    this.c = 'lblb-some-app'\n    this.state = {\n      loading_sheet: true,\n      error_sheet: null,\n      data_sheet: [],\n      selectedSentences: []\n    }\n    this.fetchSheet = this.fetchSheet.bind(this)\n    this.fetchCredentials = this.fetchCredentials.bind(this)\n    this.wiggle = this.wiggle.bind(this)\n    this.handleGeneration = this.handleGeneration.bind(this)\n    this.getParagraph = this.getParagraph.bind(this)\n    this.getRandomSentence = this.getRandomSentence.bind(this)\n    this.renderSentence = this.renderSentence.bind(this)\n    this.getParams = this.getParams.bind(this)\n    this.generateShareLink = this.generateShareLink.bind(this)\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * DID MOUNT\n   *\n   * * * * * * * * * * * * * * * * */\n  componentDidMount () {\n    this.fetchCredentials()\n    if (this.props.spreadsheet) return this.fetchSheet()\n    return this.setState({ loading_sheet: false })\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * FETCH CREDENTIALS\n   *\n   * * * * * * * * * * * * * * * * */\n  async fetchCredentials () {\n    const { api_url } = this.props\n    const { format, article } = this.props.tracking\n    const api = `${api_url}/${format}/${article}/load`\n    try {\n      const reach = await window.fetch(api, { method: 'POST' })\n      const response = await reach.json()\n      const { lblb_tracking, lblb_posting } = response._credentials\n      if (!window.LBLB_GLOBAL) window.LBLB_GLOBAL = {}\n      window.LBLB_GLOBAL.lblb_tracking = lblb_tracking\n      window.LBLB_GLOBAL.lblb_posting = lblb_posting\n      return { lblb_tracking, lblb_posting }\n    } catch (error) {\n      console.error('Unable to fetch credentials:')\n      console.error(error)\n      return Error(error)\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * FETCH SHEET\n   *\n   * * * * * * * * * * * * * * * * */\n  async fetchSheet () {\n    this.setState({ loading_sheet: true, error_sheet: null })\n    const sheet = this.props.spreadsheet\n    try {\n      const reach = await window.fetch(this.props.spreadsheet)\n      if (!reach.ok) throw reach\n      const data = await reach.text()\n      const parsedData = parseTsv(data, [5]) // Parse sheet here\n      const sentences = parsedData[0].filter(e => e.themes !== '' && e.sentence !== '')\n      this.setState({\n        error_sheet: null,\n        data_sheet: sentences,\n        sentences: sentences.map((e, i) => {\n          return {\n            id: i,\n            ...e\n          }\n        }),\n        selectedSentences: this.getParams(),\n        loading_sheet: false\n      })\n      return data\n    } catch (error) {\n      if (error.status) {\n        const text = `${error.status} error while fetching : ${sheet}`\n        this.setState({ loading_sheet: false, error_sheet: error })\n        console.error(text, error)\n        return Error(text)\n      } else {\n        this.setState({ loading_sheet: false, error_sheet: error })\n        console.error(error)\n        return Error(error)\n      }\n    }\n  }\n\n  wiggle (step = 0, limit = 1, delay = 0, action = () => {}, callback = () => {}) {\n    action()\n    return (step <= limit)\n      ? setTimeout(e => this.wiggle(step + 1, limit, delay, action, callback), delay)\n      : callback()\n  }\n\n  handleGeneration () {\n    const paragraphs = document.querySelectorAll('.speech .lblb-paragraph')\n    this.wiggle(0, 20, 20,\n      () => {\n        paragraphs.forEach(p => {\n          p.style.marginLeft = `${Math.random()}rem`\n          p.style.transform = `translateY(${(Math.random()) - 0.5}rem)`\n          p.style.filter = 'blur(2px)'\n        })\n      },\n      () => {\n        paragraphs.forEach(p => {\n          p.style.marginLeft = 0\n          p.style.transform = ''\n          p.style.filter = ''\n        })\n        this.setState({ selectedSentences: [] })\n        this.forceUpdate()\n      }\n    )\n  }\n\n  getRandomSentence (size, themes) {\n    let length\n    switch (size) {\n      case 'short':\n        length = 100\n        break\n      case 'medium':\n        length = 250\n        break\n      default:\n        length = 500\n    }\n    const selection = this.state.sentences.filter(e => {\n      for (const theme of themes) {\n        if (e.themes.includes(theme) && e.sentence.length < length) {\n          return true\n        }\n      }\n      return false\n    })\n    let alea = Math.floor(Math.random() * selection.length)\n    while (this.state.selectedSentences.includes(selection[alea].id)) {\n      alea = Math.floor(Math.random() * selection.length)\n    }\n    this.state.selectedSentences.push(selection[alea].id)\n    return (selection[alea])\n  }\n\n  getParagraph (length, themes) {\n    const paragraph = []\n    for (let i = 0; i < length; i++) {\n      const size = Math.random() > 0.8 ? (Math.random() > 0.5 ? 'short' : 'medium') : 'long'\n      const sentence = this.getRandomSentence(size, themes)\n      console.log(sentence.sentence, sentence.themes)\n      themes = Math.random() < 0.8 ? sentence.themes : ['bullshit']\n      paragraph.push(sentence)\n    }\n    return paragraph\n  }\n\n  renderSentence (e) {\n    return (\n      <span className='sentence' key={e.sentence}>\n        <span>{e.sentence + ' '}</span>\n        <span className='sentence__tooltip' key={`${e.sentence} tooltip`}>\n          <a\n            href={e.url}\n            target='_blank'\n            rel='noopener noreferrer'>\n            <JSXInterpreter\n              content={`${e.president} ${e.date.substring(0, 4)}`.replace(/ /g, '&nbsp;')} />\n          </a>\n        </span>\n      </span>\n    )\n  }\n\n  getParams () {\n    const res = new window.URL(window.location.href).searchParams.get('res')\n    return res ? window.atob(window.decodeURI(res)).split(';').map(e => parseInt(e, 36)) : []\n  }\n\n  generateShareLink () {\n    const data = this.state.selectedSentences.map(e => e.toString(36)).join(';')\n    console.log(`${this.props.meta.url}?res=${window.encodeURI(window.btoa(data))}`)\n    return `${this.props.meta.url}?res=${window.encodeURI(window.btoa(data))}`\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * * */\n  render () {\n    const { c, state, props } = this\n\n    /* Assign classes */\n    const classes = [c]\n    if (state.loading_sheet) classes.push(`${c}_loading`)\n    if (state.error_sheet) classes.push(`${c}_error`)\n\n    /* Load & errors */\n    if (state.loading_sheet) return <div className={classes.join(' ')}><div className='lblb-default-apps-loader'><Loader /></div></div>\n    if (state.error_sheet) return <div className={classes.join(' ')}><div className='lblb-default-apps-error'><LoadingError /></div></div>\n\n    console.log(state.sentences)\n\n    /* Display component */\n    return (\n      <div className={classes.join(' ')}>\n        <div className='lblb-default-apps-footer'>\n          <BlockTitle>Essayez notre générateur de vœux présidentiels&nbsp;!</BlockTitle>\n          <button className='generateButton' onClick={this.handleGeneration}>\n            <Paragraph>Générer</Paragraph>\n            <img src='/random.png' />\n          </button>\n          {state.selectedSentences.length > 0 && (\n            <div className='speech'>\n              <Paragraph small>\n                {state.selectedSentences.slice(0, 2)\n                  .map(index => state.sentences[index])\n                  .map(this.renderSentence)}\n              </Paragraph>\n              <Paragraph small>\n                {state.selectedSentences.slice(2, 6)\n                  .map(index => state.sentences[index])\n                  .map(this.renderSentence)}\n              </Paragraph>\n              <Paragraph small>\n                {state.selectedSentences.slice(6, 10)\n                  .map(index => state.sentences[index])\n                  .map(this.renderSentence)}\n              </Paragraph>\n              <Paragraph small>\n                {state.selectedSentences.slice(10, 14)\n                  .map(index => state.sentences[index])\n                  .map(this.renderSentence)}\n              </Paragraph>\n              <Paragraph small>\n                {state.selectedSentences.slice(14, 17)\n                  .map(index => state.sentences[index])\n                  .map(this.renderSentence)}\n              </Paragraph>\n              <Paragraph small>\n                {state.selectedSentences.slice(17)\n                  .map(index => state.sentences[index])\n                  .map(this.renderSentence)}\n              </Paragraph>\n            </div>\n          )}\n          {state.selectedSentences.length === 0 && (<div className='speech'>\n            <Paragraph small>\n              {this.getParagraph(1, ['first'])\n                .map(this.renderSentence)}\n              {this.getParagraph(1, ['intro'])\n                .map(this.renderSentence)}\n            </Paragraph>\n            <Paragraph small>\n              {this.getParagraph(4, ['crise'])\n                .map(this.renderSentence)}\n            </Paragraph>\n            <Paragraph small>\n              {this.getParagraph(4, ['réforme', 'économie'])\n                .map(this.renderSentence)}\n            </Paragraph>\n            <Paragraph small>\n              {this.getParagraph(4, ['international', 'éducation', 'écologie'])\n                .map(this.renderSentence)}\n            </Paragraph>\n            <Paragraph small>\n              {this.getParagraph(3, ['france'])\n                .map(this.renderSentence)}\n            </Paragraph>\n            <Paragraph small>\n              {this.getParagraph(1, ['last'])\n                .map(this.renderSentence)}\n            </Paragraph>\n          </div>)}\n          <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\n            <BlockTitle>Partagez votre discours&nbsp;!</BlockTitle>\n            <ShareArticle short iconsOnly tweet={props.meta.tweet} url={this.generateShareLink()} />\n          </div>\n          <ArticleMeta\n            publishedOn='02/09/2019 17:13' updatedOn='03/09/2019 10:36' authors={[\n              { name: 'Savinien de Rivet', role: '', link: 'www.liberation.fr' },\n              { name: 'Maxime Fabas', role: 'Production', link: 'lol.com' },\n              { name: 'Tom Février', role: 'Production', link: 'lol.com' }\n            ]}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Helmet } from 'react-helmet'\nimport * as serviceWorker from './serviceWorker'\nimport Voeux from './Voeux'\nimport config from './config'\nimport 'whatwg-fetch'\n\nclass AppWrapper extends Component {\n  /* * * * * * * * * * * * * * * * *\n   *\n   * CONSTRUCTOR\n   *\n   * * * * * * * * * * * * * * * * */\n  constructor (props) {\n    super(props)\n    this.getElementsHeight = this.getElementsHeight.bind(this)\n    if (!window.LBLB_GLOBAL) window.LBLB_GLOBAL = {}\n    window.LBLB_GLOBAL.rem = 16\n    window.LBLB_GLOBAL.breakpoints = {\n      lg: { min: 1 + 63 * window.LBLB_GLOBAL.rem, max: Infinity },\n      md: { min: 1 + 40 * window.LBLB_GLOBAL.rem, max: 63 * window.LBLB_GLOBAL.rem },\n      sm: { min: 0, max: 40 * window.LBLB_GLOBAL.rem }\n    }\n    Object.defineProperty(window.LBLB_GLOBAL, 'current_display', {\n      get: function () {\n        return Object.keys(this.breakpoints).find(name => {\n          return this.breakpoints[name].min <= this.client_width &&\n            this.breakpoints[name].max >= this.client_width\n        })\n      }\n    })\n    window.setInterval(this.getElementsHeight, 250)\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * WILL UNMOUNT\n   *\n   * * * * * * * * * * * * * * * * */\n  componentWillUnmount () {\n    window.clearInterval(this.getElementsHeight)\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * DID MOUNT\n   *\n   * * * * * * * * * * * * * * * * */\n  componentDidMount () {\n    const { xiti_id } = this.props.meta\n    const headerScript = document.createElement('script')\n    const chartbeat = document.createElement('script')\n    const googleAnalytics = document.createElement('script')\n    const xiti = document.createElement('script')\n    const xtCore = document.createElement('script')\n    headerScript.setAttribute('type', 'text/javascript')\n    headerScript.setAttribute('src', 'https://www.liberation.fr/menu/script.js')\n    chartbeat.innerHTML = `\n    var _sf_async_config={};\n    _sf_async_config.uid = 43601;\n    _sf_async_config.domain = 'liberation.fr';\n    _sf_async_config.useCanonical = true;\n    _sf_async_config.sections = \"Static\";\n    _sf_async_config.authors = \"Static\";\n    (function(){\n      function loadChartbeat() {\n        window._sf_endpt=(new Date()).getTime();\n        var e = document.createElement('script');\n        e.setAttribute('language', 'javascript');\n        e.setAttribute('type', 'text/javascript');\n        e.setAttribute('src', 'https://static.chartbeat.com/' + 'js/chartbeat.js');\n        document.body.appendChild(e);\n      }\n      var oldonload = window.onload;\n      window.onload = (typeof window.onload != 'function') ?\n      loadChartbeat : function() { oldonload(); loadChartbeat(); };\n    })();`\n    googleAnalytics.innerHTML = `\n    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n     ga('create', 'UA-41822557-1', 'liberation.fr');\n     ga('create', 'UA-116918263-1', 'auto', 'SixPlus');\n     ga('send', 'pageview');\n     ga('SixPlus.send', 'pageview');`\n    xiti.innerHTML = `\n    xtnv = document;\n    xtsd = \"https://logliberation\";\n    xtsite = \"507510\";\n    xtn2 = \"48\";\n    xtpage = \"LibeLabo::${xiti_id}\";\n    xtdi = \"\";\n    xt_pagetype = \"\";\n    xt_multc = \"&x1=0&x2=43&x3=&x4=&x5=&x6=7&x7=\";\n    xt_an = \"\";\n    xt_ac = \"\";\n    if (window.xtparam==null) { window.xtparam = ''; }\n    window.xtparam += \"&ptype=\"+xt_pagetype+\"&ac=\"+xt_ac+\"&an=\"+xt_an+xt_multc;`\n    xtCore.setAttribute('type', 'text/javascript')\n    xtCore.setAttribute('src', 'https://statics.liberation.fr/bloom/theme/js/xtcore.js')\n    if (config.show_header) document.body.appendChild(headerScript)\n    if (process.env.NODE_ENV === 'production') {\n      document.body.appendChild(chartbeat)\n      document.body.appendChild(googleAnalytics)\n      document.body.appendChild(xiti)\n      document.body.appendChild(xtCore)\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * GET HEADER HEIGHT\n   *\n   * * * * * * * * * * * * * * * * */\n  getElementsHeight () {\n    const $nav = document.querySelector('nav.main-nav')\n    const $body = document.querySelector('body')\n    const pNavHeight = window.LBLB_GLOBAL.nav_height\n    const pBodyPaddingTop = window.LBLB_GLOBAL.body_padding_top\n    const pClientWidth = window.LBLB_GLOBAL.client_width\n    const pClientHeight = window.LBLB_GLOBAL.client_height\n    const navHeight = $nav ? $nav.offsetHeight : 0\n    const bodyPaddingTop = $body ? parseFloat(window.getComputedStyle($body)['padding-top'].slice(0, -2)) : 0\n    const clientWidth = document.documentElement.clientWidth\n    const clientHeight = document.documentElement.clientHeight\n    window.LBLB_GLOBAL.nav_height = navHeight\n    window.LBLB_GLOBAL.body_padding_top = bodyPaddingTop\n    window.LBLB_GLOBAL.client_width = clientWidth\n    window.LBLB_GLOBAL.client_height = clientHeight\n    if (pNavHeight !== navHeight ||\n      pBodyPaddingTop !== bodyPaddingTop ||\n      pClientWidth !== clientWidth ||\n      pClientHeight !== clientHeight) {\n      window.dispatchEvent(new CustomEvent('lblb-client-dimensions-change'))\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * * */\n  render () {\n    const { props } = this\n    const { meta, statics_url, stylesheet } = props\n    const { title, url, description, author, image } = meta\n    return <div id='libe-labo-app-wrapper'>\n      <Helmet>\n        <title>Libération.fr – {title}</title>\n        <link rel='canonical' href={url} />\n        <meta name='author' content={author} />\n        <meta name='description' content={description} />\n        <meta property='og:url' content={url} />\n        <meta property='og:title' content={title} />\n        <meta property='og:description' content={description} />\n        <meta property='og:image' content={image} />\n        <meta name='twitter:url' content={url} />\n        <meta name='twitter:title' content={title} />\n        <meta name='twitter:description' content={description} />\n        <meta name='twitter:image' content={image} />\n        {/* Libé styles */}\n        <link rel='stylesheet' href={`${statics_url}/styles/liberation.css`} />\n        {/* Libe Labo styles */}\n        <link rel='stylesheet' href={`${statics_url}/lib/normalize-8.0.0.css`} />\n        <link rel='stylesheet' href={`${statics_url}/styles/fonts.css`} />\n        <link rel='stylesheet' href={`${statics_url}/styles/font-classes.css`} />\n        <link rel='stylesheet' href={`${statics_url}/styles/components.css`} />\n        <link rel='stylesheet' href={`${statics_url}/styles/apps.css`} />\n        {/* Leaflet styles */}\n        <link rel='stylesheet' href={`${statics_url}/lib/leaflet-1.4.0/leaflet.css`} />\n        {/* This app styles */}\n        <link rel='stylesheet' href={`${statics_url}/styles/apps/${stylesheet}`} />\n        <link rel='stylesheet' href='./custom.css' />\n      </Helmet>\n      <Voeux {...props} />\n    </div>\n  }\n}\n\nReactDOM.render(\n  <AppWrapper {...config} />,\n  document.getElementById('libe-labo-app-root')\n)\n\nserviceWorker.unregister()\n","const config = {\n  meta: {\n    author: '',\n    title: 'Vœux présidentiels',\n    url: 'localhost:3000/',\n    description: '',\n    image: '',\n    xiti_id: 'test',\n    tweet: '',\n    konami: 'https://github.com/libe-max'\n  },\n  tracking: {\n    active: false,\n    format: 'libe-apps-template',\n    article: 'libe-apps-template'\n  },\n  show_header: true,\n  statics_url: process.env.NODE_ENV === 'production'\n    ? 'https://www.liberation.fr/apps/static'\n    : 'http://localhost:3003',\n  api_url: process.env.NODE_ENV === 'production'\n    ? 'https://libe-labo-2.site/api'\n    : 'http://localhost:3004/api',\n  stylesheet: 'voeux.css', // The name of the css file hosted at ${statics_url}/styles/apps/\n  spreadsheet: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRPOqf8JGmbxsd3C_qIWCSbm-vZ-WWK9yF_Y0kUz_SY5-yDZ2PIcKQl9IPgJPeIW_ZYe5vyzWEVv_tH/pub?gid=155317366&single=true&output=tsv' // The spreadsheet providing data to the app\n}\n\nmodule.exports = config\n"],"sourceRoot":""}